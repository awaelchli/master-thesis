"""
Plots for the experiment DeepVO on KITTI, overlap and dropout
"""
import matplotlib.pyplot as plt
import numpy as np

# the width of the bars
width = 0.5
linetype = 'bo-'
show = False


t = np.arange(0, 126, 1)
rot = np.array([0.683479, 1.10464, 0.986356, 1.24191, 1.19934, 1.21844, 1.17596, 1.23722, 1.27877, 1.44469, 1.62718, 1.6688, 1.83837, 1.83302, 1.89373, 2.01958, 1.9657, 2.0558, 2.38709, 2.57774, 2.47287, 2.48771, 2.44931, 2.53691, 2.44185, 2.52642, 2.62291, 2.80826, 2.91138, 3.07516, 3.12245, 3.09815, 3.07763, 3.1422, 3.27095, 3.57668, 3.52844, 3.44501, 3.50239, 3.50611, 3.70961, 3.71377, 3.83277, 3.8748, 3.99532, 4.06275, 4.14344, 4.18222, 4.25682, 4.13801, 3.87036, 3.80123, 3.8421, 3.92255, 4.005, 4.06492, 4.21233, 4.28566, 4.52915, 4.9106, 5.14629, 5.47455, 5.66499, 5.79517, 5.85484, 5.81707, 5.8205, 5.5197, 5.71439, 6.03878, 6.3198, 6.53012, 4.47563, 3.91457, 3.73425, 3.86569, 4.04054, 4.00585, 3.7345, 4.41803, 5.0676, 6.12438, 6.61801, 7.89644, 8.6184, 10.2209, 10.9114, 11.4795, 12.0382, 14.6736, 14.9484, 15.1142, 15.5032, 15.7666, 16.0159, 16.3321, 16.7806, 6.74616, 6.74616, 6.25188, 5.93234, 5.93234, 5.621, 4.84299, 4.84299, 4.03546, 3.15988, 3.15988, 2.75605, 2.20709, 2.20709, 2.27692, 1.78619, 1.78619, 1.59446, 1.59446, 1.40889, 1.74675, 1.74675, 1.81531, 1.80624, 1.80624, 1.90372, 2.78938, 2.78938, 4.41526])
trans = np.array([0.103754, 0.225857, 0.399287, 0.506731, 0.572999, 0.629034, 0.66986, 0.718172, 0.824851, 0.851484, 0.919804, 0.96517, 1.0235, 1.12352, 1.16439, 1.28151, 1.318, 1.41297, 1.27507, 1.31963, 1.33549, 1.34641, 1.36083, 1.40306, 1.43738, 1.47867, 1.56458, 1.63956, 1.72455, 1.81267, 1.92626, 1.99046, 2.06761, 2.09271, 2.16548, 2.3202, 2.42753, 2.48306, 2.55456, 2.63618, 2.68928, 2.73335, 2.79097, 2.83182, 2.90694, 2.94404, 2.98833, 3.04481, 3.07525, 3.0909, 3.16398, 3.23787, 3.31999, 3.39978, 3.48046, 3.59931, 3.73313, 3.85071, 4.01996, 4.18689, 4.13747, 4.26857, 4.37518, 4.51246, 4.65611, 4.75723, 4.88993, 5.05537, 5.2287, 5.37635, 5.54332, 5.72095, 4.49797, 4.55808, 4.65055, 4.77222, 4.91362, 4.984, 4.9363, 4.6995, 4.75481, 4.60521, 4.71818, 4.82633, 4.91682, 5.0797, 5.25314, 5.38672, 5.51673, 3.27457, 3.47182, 3.58092, 3.86996, 4.07032, 4.21907, 4.39547, 4.59757, 5.39676, 5.39676, 5.48554, 5.5461, 5.5461, 5.63703, 5.76151, 5.76151, 5.86673, 5.98418, 5.98418, 6.06692, 6.18675, 6.18675, 6.28937, 6.42257, 6.42257, 6.57463, 6.57463, 6.6916, 6.87642, 6.87642, 7.1112, 7.42622, 7.42622, 7.84138, 8.31835, 8.31835, 8.90924])

fig, ax1 = plt.subplots()

ax1.plot(t, rot, 'b-')
ax1.set_xlabel('Distance [m]')
# Make the y-axis label, ticks and tick labels match the line color.
ax1.set_ylabel('Average Relative Rotation Error [deg]', color='b')
ax1.tick_params('y', colors='b')

plt.grid(True)

ax2 = ax1.twinx()
ax2.plot(t, trans, 'r-')
ax2.set_ylabel('Average Translation Error [m]', color='r')
ax2.tick_params('y', colors='r')

fig.tight_layout()

plt.savefig('./deepvo-KITTI/relative-rotation-and-translation-error-along-path-overlap80.pdf', bbox_inches='tight')


if show:
    plt.show()